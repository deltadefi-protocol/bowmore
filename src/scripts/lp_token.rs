use whisky::{utils::blueprint::MintingBlueprint, BuilderDataType, LanguageVersion};

use crate::scripts::vault_oracle::vault_oracle_mint_blueprint;

pub fn lp_token_mint() -> MintingBlueprint {
    let oracle_nft = vault_oracle_mint_blueprint().hash;

    let mut blueprint = MintingBlueprint::new(LanguageVersion::V3);
    blueprint
    .param_script(
        "590408010100229800aba2aba1aba0aab9faab9eaab9dab9a9bae0024888888896600264653001300900198049805000cdc3a400130090024888966002600460126ea800e26530011980098059baa002911919800800801911980180098010014dd2a40009111919192cc004c024c040dd5000c4c8cc89660026018003159800980a1baa003801459015456600260140031323232332259800980e801c4cc034dd6180e002912cc00400a26601e00844b3001002805c4c8c008c08800cdd71810001203c899180118100019bad301e00240711640686eb0c068004dd7180d001180d000980c800980a1baa0038b202440482b300130083011375400314a314a08080c044dd5000980a18089baa0018b201e323300100137566028602a602a602a602a602a602a602a602a602a00c44b30010018a6103d87a80008992cc004cdd78021809000c4c018cc054c04c0052f5c113300300330170024044602a002809966002600e601c6ea80262600466022602400297ae0898011980898091809800a5eb8100d18091809180918091809180918091809180918071baa323259800980418079baa0018992cc004c024c040dd5000c4c8c8c8c8c8c8c8c8c8c8c8ca60026eb8c0800066eb8c0800326eb8c08002e6eb4c0800266eb4c0800226eb4c08001e6eb8c08001a6eb4c0800166eb8c0800126eb8c08000e6eb8c0800092222222222259800981600644cc070dd6181580a912cc00400a20351323002302f003375c605a004815a2c81486040002603e002603c002603a00260380026036002603400260320026030002602e002602c00260226ea80062c8078c8c9660026014003168acc004c0200062d1301530123754004808101018081baa00130133014301430103754600460206ea8c04cc040dd5000c5900e19198008009bac30130052259800800c5300103d87a80008992cc004c020c966002601260246ea80062900044dd6980b18099baa001404464b300130093012375400314c103d87a8000899198008009bab30173014375400444b30010018a6103d87a8000899192cc004cdc8a45000018acc004cdc7a44100001898051980c980b80125eb82298103d87a80004055133004004301b00340546eb8c054004c060005016202232330010013756600a60266ea8c014c04cdd5001112cc004006298103d87a8000899192cc004cdc8809800c56600266e3c04c0062601266030602c00497ae08a60103d87a80004051133004004301a00340506eb8c050004c05c00501544c014cc0500052f5c113300300330160024040602800280908c048c04c005300a375400b375c601c60166ea80112225980098030014566002601c6ea802200716403d15980098020014566002601c6ea802200716403d16403080606e1d20028b2010180480098021baa0098a4d13656400801",
        &[oracle_nft.as_str()],
        BuilderDataType::JSON,
    )
    .unwrap();
    blueprint
}

#[cfg(test)]
mod tests {

    use super::*;
    use dotenv::dotenv;

    #[test]
    fn test_lp_token_mint_blueprint() {
        dotenv().ok();

        let blueprint = lp_token_mint();
        assert_eq!(blueprint.hash, "TODO");
        assert_eq!(blueprint.cbor, "TODO");
    }
}
